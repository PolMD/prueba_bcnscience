<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Simega3</title>
  </head>
  <body>
    <div class="contact-container row">
      <div class="section col">
        <div class="desc-container">
          <h2>Lorem ipsum</h2>
          <p class="hl-text">
            In quis varius tortor. Mauris eget rutrum lorem, ut tristique ipsum.
            In egestas augue sit amet ultrices tincidunt.
          </p>
          <p>
            Maecenas scelerisque arcu vitae leo volutpat malesuada.
            <strong>Vivamus venenatis fringilla ligula</strong>, sit amet
            facilisis neque semper vitae. Aenean porta, leo quis euismod
            blandit, massa arcu mollis lacus,
            <strong>eu lacinia eros justo molestie velit.</strong> Proin a enim
            dui. Sed vitae porta ipsum, ut vulputate purus.
          </p>
        </div>

        <div class="form-container">
          <h3>Form</h3>
          <form id="formul" action="">
            <div id="name-form">
              <label for="name">Name:</label>
              <input type="text" id="name" name="name" />
            </div>
            <div id="email-form">
              <label for="email">E-mail:</label>
              <input type="email" id="email" name="email" />
            </div>
            <div
              style="display: flex; align-items: flex-start; margin-top: 5px"
            >
              <label class="terms-container"
                >Accept terms of use
                <input id="terms" name="terms" type="checkbox" />
                <span class="checkmark"></span>
              </label>
            </div>
            <button id="send" type="submit">Send</button>
          </form>
        </div>
      </div>
      <div class="section col">
        <div class="r-container">
          <div>
            <div class="text-box">
              <p>”Consectetur adipiscing elit*, ut tristique ipsum.”</p>
            </div>
            <p style="color: #888888; font-size: 1.4em; margin-top: 5px">
              * Donec facilisis bibendum interdum.
            </p>
          </div>
        </div>
        <div id="output-container" class="r-container" type="button"></div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <script src="hammerController.js"></script>
    <script>
      $(document).ready(function () {
        const submitForm = (ev) => {
          $("#formul").validate({
            rules: {
              name: {
                required: true,
              },
              email: {
                required: true,
                email: true,
              },
              terms: {
                required: true,
              },
            },
            messages: {
              name: {
                required: "Por favor rellena el campo nombre",
              },
              email: {
                required: "Por favor escribe un email valido",
                email: "Por favor escribe un email valido",
              },
              terms: {
                required: "Hay que aceptar las condiciones",
              },
            },
            errorPlacement: function (error, element) {
              if (element.attr("name") == "name") {
                error.insertAfter("#name-form");
              } else if (element.attr("name") == "email") {
                error.insertAfter("#email-form");
              } else if (element.attr("name") == "terms") {
                error.insertBefore("#send");
              } else {
                error.insertAfter(element);
              }
            },
          });
          if ($("#formul").valid()) {
            ev.preventDefault();
            $("#output-container").html(
              "<h4 id='output-name'>Hi " +
                $("#name").val() +
                " <img width=80px' style='margin-bottom: 10px' src='src/ic_vist.png' alt='vist'/></h4>"
            );
            $("#formul").trigger("reset");
          }
        };
        document
          .getElementById("send")
          .addEventListener("touchstart", submitForm, { passive: false });
        changeScreen();
      });
    </script>
  </body>
</html>
